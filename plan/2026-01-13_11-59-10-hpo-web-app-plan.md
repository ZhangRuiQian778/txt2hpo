---
mode: plan
cwd: /data/pd1/zhangruiqian/code/txt2hpo
task: HPO 转换 Web 应用技术执行计划
complexity: complex
tool: mcp__sequential-thinking__sequentialthinking
total_thoughts: 10
created_at: 2026-01-13T11:59:10+08:00
---

# Plan: HPO 转换 Web 应用

🎯 任务概述
本计划面向“临床文本到 HPO ID”的双模块 Web 应用，强调中文/英文输入、响应式设计与可视化对照。目标是在保证 UX/UI 的前提下，落地可用的前后端方案与数据处理流程，并支持历史、导出与可选登录。

📋 执行计划
1. 需求与范围确认：梳理模块边界（医嘱智能转换 / 精确匹配）、全局能力（登录、历史、导出）、非功能指标（性能、响应时间、输入长度、移动端适配），并对现有仓库技术栈做快速盘点，决定 React/Vue 与组件库选型。
2. 架构与 API 契约：定义前后端分层、路由与状态管理方式，确定 i18n 方案；输出核心接口协议与错误码（如 /convert、/search、/history、/export），并确认鉴权是否为可选开关。
3. 数据与模型准备：规划 HPO 数据加载与缓存策略（hp.json + 预索引），明确 NLP 服务接入方式（外部模型或自建服务），并定义结构化返回 JSON 的字段标准与置信度范围。
4. 前端基础搭建：实现全局布局与导航（双模块标签/路由）、响应式栅格与主题样式、国际化切换、通用组件（输入区、结果卡片/表格、分页、导出按钮）。
5. 模块一（医嘱智能转换）：完成多行输入与字数限制、异步调用与加载态、原文高亮与右侧 HPO 列表对照、手动增删与重试、批量上传与预览、CSV/JSON 导出。
6. 模块二（精确匹配）：实现搜索框与模式选择、模糊/精确查询、自动补全与分页排序、结果详情展开、与模块一的“加入转换列表”联动。
7. 联调与质量保障：前后端联调，补齐异常处理与空结果提示；加入基础测试（接口契约、关键组件、e2e 流程），性能与大文本处理验证。
8. 部署与交付：环境配置与密钥管理、构建与发布流程（CI/CD 可选）、日志与监控点位、用户使用说明与验收清单。

⚠️ 风险与注意事项
- NLP 服务与 HPO 数据体量可能导致响应延迟，需要缓存与异步策略。
- 医疗文本涉及敏感信息，需明确数据存储、日志与合规要求。
- 中英双语与高亮映射一致性是 UX 风险点，需要真实样例验证。

📎 参考
- plan/2026-01-13_11-59-10-hpo-web-app-plan.md:1
